{"version":3,"file":"Register-CcvLDzCa.js","sources":["../../src/components/Register.vue"],"sourcesContent":["<template>\n  <div :class=\"['flex justify-center items-center min-h-screen', darkMode ? 'bg-gray-900 text-white' : 'bg-gray-100 text-gray-900']\">\n    <div class=\"form-container w-full max-w-sm p-6 bg-gray-800 rounded-lg shadow-lg\">\n      <h2 class=\"text-2xl font-semibold mb-6 text-center\">Register</h2>\n      <form @submit.prevent=\"registerUser\" class=\"form\">\n        <label class=\"text-lg mb-2 block\">\n          Username:\n          <input v-model=\"user.username\" placeholder=\"Username\" required class=\"input-field\" />\n        </label>\n        <label class=\"text-lg mb-2 block\">\n          Password:\n          <input v-model=\"user.password\" type=\"password\" placeholder=\"Password\" required class=\"input-field\" />\n        </label>\n        <button type=\"submit\" class=\"submit-btn w-full\">Register</button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useUserStore } from '@/store/userStore';\nimport API from '@/api';\n\nconst router = useRouter();\nconst userStore = useUserStore();\n\nconst darkMode = ref(true); // Keep dark mode consistent\nconst user = ref({ username: '', password: '' });\n\nconst registerUser = async () => {\n  try {\n    const res = await API.post('/users/register', user.value);\n\n    localStorage.setItem('token', res.data.token);\n\n    const newUser = {\n      id: res.data.user._id,\n      username: res.data.user.username,\n      role: res.data.user.role,\n    };\n    userStore.setUser(newUser);\n\n    router.push('/dashboard');\n  } catch (err) {\n    console.error('Registration failed:', err);\n    alert('Registration failed. Try again.');\n  }\n};\n</script>\n\n<style scoped>\n.input-field {\n  width: 100%;\n  padding: 0.75rem;\n  background-color: #2a2a2a;\n  color: white;\n  border: 1px solid #444;\n  border-radius: 4px;\n  font-size: 1rem;\n}\n\n.submit-btn {\n  margin-top: 1rem;\n  padding: 0.75rem 1.5rem;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.submit-btn:hover {\n  background-color: #0056b3;\n}\n\n.form-container {\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);\n}\n\n.form label {\n  display: block;\n}\n\nform {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n</style>"],"names":["router","useRouter","userStore","useUserStore","darkMode","ref","user","registerUser","res","API","newUser","err"],"mappings":"6UAyBA,MAAMA,EAASC,EAAW,EACpBC,EAAYC,EAAc,EAE1BC,EAAWC,EAAI,EAAI,EACnBC,EAAOD,EAAI,CAAE,SAAU,GAAI,SAAU,GAAI,EAEzCE,EAAe,SAAY,CAC/B,GAAI,CACF,MAAMC,EAAM,MAAMC,EAAI,KAAK,kBAAmBH,EAAK,KAAK,EAExD,aAAa,QAAQ,QAASE,EAAI,KAAK,KAAK,EAE5C,MAAME,EAAU,CACd,GAAIF,EAAI,KAAK,KAAK,IAClB,SAAUA,EAAI,KAAK,KAAK,SACxB,KAAMA,EAAI,KAAK,KAAK,IACrB,EACDN,EAAU,QAAQQ,CAAO,EAEzBV,EAAO,KAAK,YAAY,CACzB,OAAQW,EAAK,CACZ,QAAQ,MAAM,uBAAwBA,CAAG,EACzC,MAAM,iCAAiC,CAC3C,CACA"}