{"version":3,"file":"Activities-CBF4lBDG.js","sources":["../../src/views/Activities.vue"],"sourcesContent":["<template>\n  <div :class=\"['flex justify-center items-center min-h-screen', darkMode ? 'bg-gray-900 text-white' : 'bg-gray-100 text-gray-900']\">\n    <div class=\"activities w-full max-w-3xl p-6 bg-gray-800 rounded-lg shadow-lg\">\n      <h2 class=\"text-2xl font-semibold mb-6 text-center\">My Activities</h2>\n\n      <!-- Dark Mode Toggle -->\n      <button @click=\"toggleDarkMode\" class=\"mb-4 px-4 py-2 bg-indigo-600 text-white rounded-md\">\n        Toggle Dark Mode\n      </button>\n\n      <ul class=\"activity-list\">\n        <li v-for=\"act in activities\" :key=\"act.id\" class=\"activity-item\">\n          <div class=\"activity-details\">\n            <strong>{{ act.type }}</strong> â€” {{ act.duration }} min on {{ formatDate(act.date) }}\n          </div>\n          <button class=\"delete-btn\" @click=\"deleteActivity(act.id)\">Delete</button>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport API from '@/api';\n\nconst darkMode = ref(false);\nconst activities = ref([]);\n\n// Toggle dark mode\nconst toggleDarkMode = () => {\n  darkMode.value = !darkMode.value;\n};\n\n// Fetch activities from API\nconst fetchActivities = async () => {\n  try {\n    const { data } = await API.get('/activities');\n    activities.value = data;\n  } catch (err) {\n    console.error('Failed to load activities:', err.message);\n  }\n};\n\n// Delete an activity and update the UI optimistically\nconst deleteActivity = async (id) => {\n  // Optimistic UI update\n  const activityToDelete = activities.value.find(a => a.id === id);\n  activities.value = activities.value.filter((a) => a.id !== id);\n\n  try {\n    await API.delete(`/activities/${id}`);\n  } catch (err) {\n    // Rollback the deletion if the API call fails\n    activities.value.push(activityToDelete);\n    console.error('Error deleting activity:', err.message);\n  }\n};\n\n// Format date\nconst formatDate = (dateStr) => new Date(dateStr).toLocaleDateString();\n\nonMounted(fetchActivities);\n</script>\n\n<style scoped>\n.activity-list {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.activity-item {\n  background-color: #2a2a2a;\n  padding: 1rem;\n  margin-bottom: 1rem;\n  border-left: 5px solid #4caf50;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-radius: 6px;\n}\n\n.activity-details {\n  flex: 1;\n  margin-right: 1rem;\n}\n\n.delete-btn {\n  background-color: #ff5c5c;\n  color: white;\n  padding: 0.5rem 1rem;\n  border: none;\n  border-radius: 4px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n}\n\n.delete-btn:hover {\n  background-color: #e64545;\n}\n\n.activities {\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);\n}\n\n.activities h2 {\n  color: #f9f9f9;\n}\n</style>"],"names":["darkMode","ref","activities","toggleDarkMode","fetchActivities","data","API","err","deleteActivity","id","activityToDelete","a","formatDate","dateStr","onMounted"],"mappings":"4UA0BA,MAAMA,EAAWC,EAAI,EAAK,EACpBC,EAAaD,EAAI,EAAE,EAGnBE,EAAiB,IAAM,CAC3BH,EAAS,MAAQ,CAACA,EAAS,KAC7B,EAGMI,EAAkB,SAAY,CAClC,GAAI,CACF,KAAM,CAAE,KAAAC,CAAM,EAAG,MAAMC,EAAI,IAAI,aAAa,EAC5CJ,EAAW,MAAQG,CACpB,OAAQE,EAAK,CACZ,QAAQ,MAAM,6BAA8BA,EAAI,OAAO,CAC3D,CACA,EAGMC,EAAiB,MAAOC,GAAO,CAEnC,MAAMC,EAAmBR,EAAW,MAAM,KAAKS,GAAKA,EAAE,KAAOF,CAAE,EAC/DP,EAAW,MAAQA,EAAW,MAAM,OAAQS,GAAMA,EAAE,KAAOF,CAAE,EAE7D,GAAI,CACF,MAAMH,EAAI,OAAO,eAAeG,CAAE,EAAE,CACrC,OAAQF,EAAK,CAEZL,EAAW,MAAM,KAAKQ,CAAgB,EACtC,QAAQ,MAAM,2BAA4BH,EAAI,OAAO,CACzD,CACA,EAGMK,EAAcC,GAAY,IAAI,KAAKA,CAAO,EAAE,mBAAoB,EAEtE,OAAAC,EAAUV,CAAe"}