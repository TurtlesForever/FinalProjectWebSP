import{_ as c,m as g,r as o,c as f,a as s,g as b,h as l,w as n,v as i,n as w,l as x,o as v}from"./index-Dw9N7q9t.js";import{A as y}from"./api-WO6kZKM2.js";import"@oruga-ui/oruga-next/dist/oruga.css";const U={class:"form-container w-full max-w-sm p-6 bg-gray-800 rounded-lg shadow-lg"},_={class:"text-lg mb-2 block"},k={class:"text-lg mb-2 block"},R={__name:"Register",setup(h){const d=x(),u=g(),m=o(!0),r=o({username:"",password:""}),p=async()=>{try{const t=await y.post("/users/register",r.value);localStorage.setItem("token",t.data.token);const e={id:t.data.user._id,username:t.data.user.username,role:t.data.user.role};u.setUser(e),d.push("/dashboard")}catch(t){console.error("Registration failed:",t),alert("Registration failed. Try again.")}};return(t,e)=>(v(),f("div",{class:w(["flex justify-center items-center min-h-screen",m.value?"bg-gray-900 text-white":"bg-gray-100 text-gray-900"])},[s("div",U,[e[5]||(e[5]=s("h2",{class:"text-2xl font-semibold mb-6 text-center"},"Register",-1)),s("form",{onSubmit:b(p,["prevent"]),class:"form"},[s("label",_,[e[2]||(e[2]=l(" Username: ")),n(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>r.value.username=a),placeholder:"Username",required:"",class:"input-field"},null,512),[[i,r.value.username]])]),s("label",k,[e[3]||(e[3]=l(" Password: ")),n(s("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.value.password=a),type:"password",placeholder:"Password",required:"",class:"input-field"},null,512),[[i,r.value.password]])]),e[4]||(e[4]=s("button",{type:"submit",class:"submit-btn w-full"},"Register",-1))],32)])],2))}},I=c(R,[["__scopeId","data-v-496dff87"]]);export{I as default};
