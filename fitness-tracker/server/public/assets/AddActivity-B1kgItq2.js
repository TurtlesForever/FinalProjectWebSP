import{_ as M,d as V,e as S,r as a,p as T,c as u,a as t,f as m,i as D,k as N,w as v,v as y,g as h,t as b,n as B,l as C,o as c}from"./index-Dw9N7q9t.js";import{A as f}from"./api-WO6kZKM2.js";import"@oruga-ui/oruga-next/dist/oruga.css";const I={class:"block"},U={class:"block"},q={class:"block"},E={key:0,class:"mt-4 text-red-500"},P={key:1,class:"mt-4 text-green-500"},z={__name:"AddActivity",setup(F){const g=V(),x=S(()=>g.darkMode),k=C(),r=a(null),i=a(null),n=a(new Date().toISOString().substr(0,10)),o=a(""),d=a(""),p=a([]);async function w(){try{const{data:l}=await f.get("/exercise-types");p.value=l.exerciseTypes.map(e=>e.name)}catch(l){console.error(l)}}async function A(){if(o.value="",d.value="",!r.value||!i.value||!n.value){o.value="Please fill all fields.";return}try{await f.post("/activities",{type:r.value,duration:i.value,date:n.value}),d.value="Activity added successfully.",setTimeout(()=>k.push("/activities"),1e3)}catch{o.value="Failed to add activity."}}return T(()=>{w()}),(l,e)=>{const _=N("v-select");return c(),u("div",{class:B(["add-activity-page min-h-screen p-6 flex flex-col items-center",x.value?"bg-gray-900 text-white":"bg-gray-100 text-gray-900"])},[e[7]||(e[7]=t("h2",{class:"text-3xl font-bold mb-6"},"Add Activity",-1)),t("form",{onSubmit:h(A,["prevent"]),class:"w-full max-w-md space-y-4"},[t("label",I,[e[3]||(e[3]=t("span",{class:"text-sm font-medium mb-1 block"},"Activity Type",-1)),D(_,{options:p.value,modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=s=>r.value=s),placeholder:"Select or type an activity type",reduce:s=>s,clearable:"",class:"w-full"},null,8,["options","modelValue","reduce"])]),t("label",U,[e[4]||(e[4]=t("span",{class:"text-sm font-medium mb-1 block"},"Duration (minutes)",-1)),v(t("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=s=>i.value=s),min:"1",required:"",class:"w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[y,i.value,void 0,{number:!0}]])]),t("label",q,[e[5]||(e[5]=t("span",{class:"text-sm font-medium mb-1 block"},"Date",-1)),v(t("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=s=>n.value=s),required:"",class:"w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[y,n.value]])]),e[6]||(e[6]=t("button",{type:"submit",class:"w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-md"}," Add Activity ",-1))],32),o.value?(c(),u("p",E,b(o.value),1)):m("",!0),d.value?(c(),u("p",P,b(d.value),1)):m("",!0)],2)}}},G=M(z,[["__scopeId","data-v-d7d71d75"]]);export{G as default};
