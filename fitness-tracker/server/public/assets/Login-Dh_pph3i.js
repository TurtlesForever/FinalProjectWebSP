import{_ as k,d as v,e as y,r as l,c as i,a as t,f as w,w as d,v as u,g as _,t as M,h as m,i as h,j as V,k as L,n as S,l as C,o as p}from"./index-Dw9N7q9t.js";import{A as D}from"./api-WO6kZKM2.js";import"@oruga-ui/oruga-next/dist/oruga.css";const I={class:"block"},N={class:"block"},B={key:0,class:"mt-4 text-red-500"},U={class:"mt-4"},j={__name:"Login",setup(q){const g=v(),c=y(()=>g.darkMode),f=C(),s=l(""),r=l(""),o=l("");async function b(){o.value="";try{const{data:a}=await D.post("/auth/login",{username:s.value,password:r.value});localStorage.setItem("token",a.token),f.push("/")}catch{o.value="Invalid username or password."}}return(a,e)=>{const x=L("router-link");return p(),i("div",{class:S(["login-page min-h-screen flex flex-col justify-center items-center px-4",c.value?"bg-gray-900 text-white":"bg-gray-100 text-gray-900"])},[e[7]||(e[7]=t("h2",{class:"text-3xl font-bold mb-6"},"Login",-1)),t("form",{onSubmit:_(b,["prevent"]),class:"w-full max-w-sm space-y-4"},[t("label",I,[e[2]||(e[2]=t("span",{class:"text-sm font-medium mb-1 block"},"Username",-1)),d(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=n=>s.value=n),required:"",class:"w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[u,s.value,void 0,{trim:!0}]])]),t("label",N,[e[3]||(e[3]=t("span",{class:"text-sm font-medium mb-1 block"},"Password",-1)),d(t("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=n=>r.value=n),required:"",class:"w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[u,r.value]])]),e[4]||(e[4]=t("button",{type:"submit",class:"w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-md"}," Login ",-1))],32),o.value?(p(),i("p",B,M(o.value),1)):w("",!0),t("p",U,[e[6]||(e[6]=m(" Don't have an account? ")),h(x,{to:"/register",class:"text-indigo-600 dark:text-indigo-300 hover:underline"},{default:V(()=>e[5]||(e[5]=[m("Register here")])),_:1,__:[5]})])],2)}}},T=k(j,[["__scopeId","data-v-a0c07209"]]);export{T as default};
