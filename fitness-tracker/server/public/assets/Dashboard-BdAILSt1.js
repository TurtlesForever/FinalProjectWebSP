import{A as d}from"./api-WO6kZKM2.js";import{_ as f,d as _,e as i,r as h,p as k,c as n,a as e,t as o,f as w,F as D,q as A,n as M,o as l}from"./index-Dw9N7q9t.js";import"@oruga-ui/oruga-next/dist/oruga.css";const S={class:"stats grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},C={class:"stat-card bg-white dark:bg-gray-800 rounded-lg shadow p-6 flex flex-col items-center"},F={class:"text-3xl font-bold"},B={class:"stat-card bg-white dark:bg-gray-800 rounded-lg shadow p-6 flex flex-col items-center"},E={class:"text-3xl font-bold"},N={class:"stat-card bg-white dark:bg-gray-800 rounded-lg shadow p-6 flex flex-col items-center"},T={class:"text-3xl font-bold"},q={class:"font-semibold"},z={class:"text-sm text-gray-600 dark:text-gray-300"},I=["onClick"],L={key:0,class:"text-center italic text-gray-500 dark:text-gray-400"},V={__name:"Dashboard",setup($){const c=_(),u=i(()=>c.darkMode),a=h([]),g=i(()=>a.value.length),x=i(()=>a.value.reduce((s,t)=>s+(t.duration||0),0)),m=i(()=>new Set(a.value.map(t=>t.type)).size),p=i(()=>[...a.value].sort((s,t)=>new Date(t.date)-new Date(s.date)).slice(0,5));function v(s){return new Date(s).toLocaleDateString()}async function y(){try{const{data:s}=await d.get("/activities");a.value=s.activities||[]}catch(s){console.error("Failed to load activities:",s)}}async function b(s){try{await d.delete(`/activities/${s}`),a.value=a.value.filter(t=>t._id!==s)}catch(t){console.error("Failed to delete activity:",t)}}return k(()=>{y()}),(s,t)=>(l(),n("div",{class:M(["dashboard min-h-screen p-6",u.value?"bg-gray-900 text-white":"bg-gray-100 text-gray-900"])},[t[4]||(t[4]=e("h1",{class:"text-4xl font-extrabold mb-6 text-center text-gradient"}," Dashboard ",-1)),e("section",S,[e("div",C,[e("p",F,o(g.value),1),t[0]||(t[0]=e("p",{class:"text-gray-600 dark:text-gray-300 mt-1"},"Activities",-1))]),e("div",B,[e("p",E,o(x.value),1),t[1]||(t[1]=e("p",{class:"text-gray-600 dark:text-gray-300 mt-1"},"Total Duration (mins)",-1))]),e("div",N,[e("p",T,o(m.value),1),t[2]||(t[2]=e("p",{class:"text-gray-600 dark:text-gray-300 mt-1"},"Exercise Types",-1))])]),e("section",null,[t[3]||(t[3]=e("h2",{class:"text-2xl font-semibold mb-4"},"Recent Activities",-1)),e("ul",null,[(l(!0),n(D,null,A(p.value,r=>(l(),n("li",{key:r._id,class:"activity-item bg-white dark:bg-gray-700 border dark:border-gray-600 rounded-lg p-4 mb-3 shadow-sm flex justify-between items-center"},[e("div",null,[e("p",q,o(r.type),1),e("p",z,o(v(r.date))+" — "+o(r.duration)+" mins ",1)]),e("button",{onClick:j=>b(r._id),class:"text-red-600 hover:text-red-800 focus:outline-none","aria-label":"Delete activity"}," ✕ ",8,I)]))),128))]),a.value.length?w("",!0):(l(),n("p",L," No activities to show. "))])],2))}},H=f(V,[["__scopeId","data-v-b15f8743"]]);export{H as default};
